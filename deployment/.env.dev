# ============================================================================
# NexusLIMS-CDCS Development Environment Configuration
# ============================================================================
# Copy to .env and customize for your environment
# Development environment defaults
# These are safe to commit and provide good defaults for local development
#
# You do not need to change any values in this file for a working local
# dev deployment
#
# ----------------------------------------------------------------------------
# Project Identification
# ----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=nexuslims_dev

# Docker image version tag (optional, defaults to 'latest')
# For production, consider using semantic versioning that tracks the upstream CDCS version (e.g., 3.18.0)
IMAGE_VERSION=latest

# ----------------------------------------------------------------------------
# Application URLs & Domains
# ----------------------------------------------------------------------------
# Development: Use .localhost domains (no DNS needed)
# Production: Use your actual domains
DOMAIN=nexuslims-dev.localhost
FILES_DOMAIN=files.nexuslims-dev.localhost

# Derived URLs (usually don't need to change these)
SERVER_URI=https://${DOMAIN}
ALLOWED_HOSTS=${DOMAIN}
CSRF_TRUSTED_ORIGINS=https://${DOMAIN}

# ----------------------------------------------------------------------------
# Django Configuration
# ----------------------------------------------------------------------------
DJANGO_SETTINGS_MODULE=config.settings.dev_settings
# Use the following command to generate a random secret key (not necessary for dev):
# python3 -c "from secrets import token_urlsafe; print(token_urlsafe(50))"
DJANGO_SECRET_KEY=development-secret-key-unsafe-for-production
DJANGO_DEBUG=True

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
POSTGRES_VERSION=17
POSTGRES_DB=nexuslims
POSTGRES_USER=nexuslims
# Use the following command to generate a random password (not necessary for dev):
# python3 -c "from secrets import token_urlsafe; print(token_urlsafe(32))"
POSTGRES_PASS=nexuslims
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_HOST_PORT=5532

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_VERSION=8
# Use the following command to generate a random password (not necessary for dev):
# python3 -c "from secrets import token_urlsafe; print(token_urlsafe(32))"
REDIS_PASS=nexuslims
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_HOST_PORT=6479

# ----------------------------------------------------------------------------
# Caddy Configuration
# ----------------------------------------------------------------------------
# Which Caddyfile to use
CADDYFILE=Caddyfile.dev

# Production ACME email for Let's Encrypt (not used in dev)
# CADDY_ACME_EMAIL=admin@example.com

# Custom certs path (not used in dev)
# CADDY_CERTS_HOST_PATH=/opt/nexuslims/certs

# ----------------------------------------------------------------------------
# Backup Configuration
# ----------------------------------------------------------------------------
# Timezone for backup timestamps (IANA timezone database name)
# Examples: America/New_York, America/Los_Angeles, UTC, Europe/London
# Default: America/New_York
TZ=America/New_York

# The path on the host that will be used by the admin-commands.sh backup tools
# (not used in dev)
# NX_CDCS_BACKUPS_HOST_PATH=/opt/nexuslims/backups

# ----------------------------------------------------------------------------
# File Serving Configuration (test data)
# ----------------------------------------------------------------------------
# Container paths (usually don't change)
NX_DATA_PATH=/srv/nx-data
NX_INSTRUMENT_DATA_PATH=/srv/nx-instrument-data

# Host paths for production file serving
# Development: Uses test data extracted to deployment/test-data/
# Production: Point to your actual data directories
NX_DATA_HOST_PATH=./test-data/nx-data
NX_INSTRUMENT_DATA_HOST_PATH=./test-data/nx-instrument-data

# ----------------------------------------------------------------------------
# XSLT Configuration
# ----------------------------------------------------------------------------
# Base URLs used when patching XSLT stylesheets
# These should match your FILES_DOMAIN configuration; the paths (/instrument-data and /data)
# match those used by the default caddy file server included in this config,
# meaning you shouldn't need to change them unless you modified that Caddyfile
XSLT_DATASET_BASE_URL=https://${FILES_DOMAIN}/instrument-data
XSLT_PREVIEW_BASE_URL=https://${FILES_DOMAIN}/data

# ----------------------------------------------------------------------------
# Development Features (not currently active)
# ----------------------------------------------------------------------------
# Enable test data mounting (dev only)
ENABLE_TEST_DATA=true

# Mount source code for live reload (dev only)
DEV_SOURCE_MOUNT=true
