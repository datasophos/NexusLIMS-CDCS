# =============================================================================
# Handle System Persistent Identifier (PID) Configuration
# =============================================================================
# The Handle System provides persistent identifiers (PIDs) for digital objects,
# similar to DOIs. PIDs ensure long-term access to resources even if URLs change.
#
# What are Handles?
# - Persistent identifiers that resolve to current URLs
# - Format: prefix/suffix (e.g., 10.100.1000/experiment-123)
# - Resolve via https://hdl.handle.net/10.100.1000/experiment-123
# - Can be updated to point to new locations without breaking links
#
# Use Cases:
# - Publishing research data that needs permanent citations
# - Institutional repositories requiring stable identifiers
# - Data sharing with guaranteed long-term accessibility
# - Compliance with data management plans requiring PIDs
#
# Setup Requirements:
# 1. Register with Handle.Net or set up a local handle server
# 2. Obtain a prefix (e.g., 10.100.1000) from Handle.Net or your institution
# 3. Configure authentication credentials for your handle server
# 4. Update the settings below with your specific configuration
#
# Resources:
# - Handle System overview: https://www.handle.net/
# - Technical documentation: https://www.handle.net/tech_manual/HN_Tech_Manual_9.pdf
# - Handle server software: https://handle.net/download_hnr.html
# - Registration: https://handle.net/prefix.html
# =============================================================================

# =============================================================================
# Core Settings
# =============================================================================

# Enable Handle System integration
# Set to True to automatically create and manage PIDs for records
# Set to False to disable PID functionality (records won't have persistent IDs)
# NOTE: Requires valid handle server access and prefix
ENABLE_HANDLE_PID=True

# =============================================================================
# Handle Server URLs
# =============================================================================

# Public lookup URL - Where users resolve handles
# This is the public handle proxy server for resolving PIDs
# Default: https://hdl.handle.net (global Handle.Net infrastructure)
# Custom: https://handle.yourinstitution.edu (institutional proxy)
# Users will access records via: {HANDLE_NET_LOOKUP_URL}/{prefix}/{suffix}
HANDLE_NET_LOOKUP_URL=https://hdl.handle.net

# Registration/Admin URL - Where this application registers new handles
# This is your handle server's REST API endpoint for creating/updating PIDs
# Examples:
#   - Local server: https://handle.yourdomain.com:8000
#   - Institutional: https://handle-admin.yourinstitution.edu
#   - Handle.Net hosting: https://handle-net.domain
# NOTE: This is usually different from the lookup URL
HANDLE_NET_REGISTRATION_URL=https://handle-net.domain

# =============================================================================
# Handle Prefix Configuration
# =============================================================================

# Handle prefix(es) for creating PIDs
# Format: Hierarchical identifier assigned by Handle.Net or your institution
# Examples:
#   - 10.100.1000 (institutional prefix)
#   - 20.500.12345 (Handle.Net prefix)
#   - 21.11111/CDCS (multi-level prefix)
#
# Multiple prefixes: Use comma-separated values to support multiple prefixes
# Example: 10.100.1000,10.100.2000
# The first prefix is used as the default for new handles
#
# How to get a prefix:
# 1. Register at https://www.handle.net/ for global prefixes
# 2. Contact your institution's library/IT for institutional prefixes
# 3. Set up a local handle server with custom prefixes (testing only)
ID_PROVIDER_PREFIXES=10.100.1000

# =============================================================================
# Authentication Settings
# =============================================================================

# Handle server authentication credentials
# The "user" is actually a handle path in the format: {prefix}/{username}
# This will be encoded as: 300:{HANDLE_NET_PREFIX}/{HANDLE_NET_USER}
#
# Common patterns:
#   - ADMIN (default administrative handle)
#   - USERNAME (specific user account)
#   - SERVICE (service account for automation)

# Username/handle identifier for authentication
# This is combined with your prefix to form the full admin handle
# Example: If prefix is 10.100.1000 and user is ADMIN,
#          admin handle becomes: 300:10.100.1000/ADMIN
HANDLE_NET_USER=ADMIN

# Secret key/password for handle server authentication
# SECURITY: Change this from the default! Keep this secure!
# NOTE: This is separate from Django passwords - it's for the handle server
HANDLE_NET_SECRET_KEY=admin

# =============================================================================
# XML Document Integration
# =============================================================================

# Location of PID in XML records (XPath-style dot notation)
# Specifies where the PID will be stored in your XML documents
# Use "@" prefix for attributes, element names for elements
#
# Examples:
#   - Experiment.@pid (PID as attribute of Experiment element)
#   - metadata.identifier.pid (nested element structure)
#   - Resource.identifier.@handle (handle as attribute)
#
# This must match your XSD schema structure!
# For NexusLIMS: The Experiment element has a "pid" attribute
PID_PATH=Experiment.@pid

# =============================================================================
# Automatic PID Creation
# =============================================================================

# Automatically create PIDs when records are saved
# Set to True to automatically mint a new PID for each new record
# Set to False to require manual PID creation
# RECOMMENDED: True if using the Handle System (otherwise, why enable it?)
AUTO_SET_PID=True

# Starting index for record handles
# Each new handle gets an incremental suffix starting from this number
# Format: {prefix}/{index}
# Examples:
#   - Index 1 creates: 10.100.1000/1, 10.100.1000/2, 10.100.1000/3, ...
#   - Index 1000 creates: 10.100.1000/1000, 10.100.1000/1001, ...
#
# Set to 1 for new deployments
# Set to higher value if migrating from existing system
HANDLE_NET_RECORD_INDEX=1

# =============================================================================
# Administrative Handle Configuration
# =============================================================================
# These settings configure the administrative handle for your prefix
# The admin handle controls permissions for creating/modifying handles

# Index of the administrative handle
# Standard value: 100 (creates admin handle at {prefix}/100)
# This handle represents the administrator of this prefix
HANDLE_NET_ADMIN_INDEX=100

# Administrative handle type identifier
# Standard value: HS_ADMIN (Handle System Administrator)
# This is a Handle System reserved type
HANDLE_NET_ADMIN_TYPE=HS_ADMIN

# Admin data format
# Standard value: "admin" (legacy format)
# Alternative: "bndladmn" (bundled admin format)
HANDLE_NET_ADMIN_DATA_FORMAT=admin

# Admin data record index
# Where the admin data is stored in the handle record
# Standard value: 200
HANDLE_NET_ADMIN_DATA_INDEX=200

# Admin permissions bitmap
# Controls what operations this admin can perform
# Format: 12-digit binary string (each position controls a permission)
#
# Permissions (left to right):
#   Position 0-1:  Add handle/values
#   Position 2-3:  Delete handle/values
#   Position 4-5:  Add naming authority
#   Position 6-7:  Delete naming authority
#   Position 8-9:  Modify values
#   Position 10-11: Remove values
#
# Common values:
#   011111110011 - Full admin rights (add, delete, modify everything)
#   011111110000 - Read-only admin (can view but not modify)
#   011111111111 - Super admin (all permissions)
#
# Default: 011111110011 (standard admin permissions)
HANDLE_NET_ADMIN_DATA_PERMISSIONS=011111110011
